<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" >
	<title>Demo</title>
	<link rel="stylesheet" type="text/css" href="css/demo.css">
</head>
<body>
<div class="wrapper">
	<div class="content">
		<a class="logo" href="http://wf.mytvgame.com/wf/main.html" target="_blank"><img src="images/logo.png"></a>
		<p class="act-date">礼包有效期：2015.11.26——2015.12.31</p>
		<div class="form-desc">
			<h4>请输入兑换码:</h4>
			<input class="exc-code" type="text">
			<button id="paegSure" title="确定" class="sure"></button>
			<div class="desc">
				<h5>备注：</h5>
				<p>1 输入“京东尊享犀牛包”兑换码，并正确填写自己的国服PSNID及手机号</p>
				<p>2 需要您先在PS4下载并登录《星际战甲》国服，完成新手任务后的7个工作日内将获得</p>
				<p>3 京东尊享犀牛包兑换有效期为2015年11月26日——2015年12月31日</p>
				<p>4 若您在使用中遇到问题，请及时与我们的客服人员取得联系</p>
				<p>5 本活动最终解释权归完美世界所有</p>
			</div>
		</div>
	</div>
	<div class="footer">
        <div class="contain">
            <div class="logo-bottom"></div>
            <p class="desc-bottom">
                © 2015 极限数码有限公司 (Digital Extremes)保留所有权利。<br>
                星际战甲主机版以及星际战甲主机版的Logo是由Digital Extremes Ltd拥有的注册商标并保留所有权利<br>
                同时由Digital Extremes Ltd授权给上海完美世界网络技术有限公司予以发行
            </p>
        </div>
    </div>
	<div class="bg">
		<div class="bg1"></div>
		<div class="bg2"></div>
		<div class="bg3"></div>
	</div>
</div>
<!-- 弹窗 -->
<div id="popup" class="popup">
	<a id="close" class="close" href="javascript:;"></a>
	<div class="submit-area">
		<div class="input-area">
			<h5>请填写PSNID：</h5>
			<input type="text">
		</div>
		<div class="input-area">
			<h5>再次填写PSNID：</h5>
			<input type="text">
		</div>
		<div class="input-area">
			<h5>请填写手机号：</h5>
			<input type="text">
		</div>
		<button id="submitSure" title="确定" class="sure"></button>
	</div>
</div>
<!-- mask -->
<div id="mask" class="mask"></div>
<script type="text/javascript">
	var paegSure = document.getElementById("paegSure");
	var mask = document.getElementById("mask");
	var popup = document.getElementById("popup");
	var close = document.getElementById("close");
	var submitSure = document.getElementById("submitSure");
	paegSure.onclick = function(){
		mask.style.display = "block";
		popup.style.display = "block";
	};
	close.onclick = function(){
		mask.style.display = "none";
		popup.style.display = "none";
	};
	submitSure.onclick = function(){
		post();
	};

	function post(){  
    var req = createXMLHTTPRequest();  
    if(req){  
        req.open("POST", "data/test.json", true);  
        req.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8;");     
        req.send("");  
        req.onreadystatechange = function(){  
            if(req.readyState == 4){  
                if(req.status == 200){                
                var data = (new Function("","return "+req.responseText))();
                  console.log(data.message);
                }else{  
                    alert("error");  
                }  
            }  
        }  
    }  
}  
</script>
<script type="text/javascript">
	function createXMLHTTPRequest() {     
                 //1.创建XMLHttpRequest对象     
                 //这是XMLHttpReuquest对象无部使用中最复杂的一步     
                 //需要针对IE和其他类型的浏览器建立这个对象的不同方式写不同的代码     
                 var xmlHttpRequest;  
                 if (window.XMLHttpRequest) {     
                     //针对FireFox，Mozillar，Opera，Safari，IE7，IE8     
                    xmlHttpRequest = new XMLHttpRequest();     
                     //针对某些特定版本的mozillar浏览器的BUG进行修正     
                     if (xmlHttpRequest.overrideMimeType) {     
                         xmlHttpRequest.overrideMimeType("text/xml");     
                     }     
                 } else if (window.ActiveXObject) {     
                     //针对IE6，IE5.5，IE5     
                     //两个可以用于创建XMLHTTPRequest对象的控件名称，保存在一个js的数组中     
                     //排在前面的版本较新     
                     var activexName = [ "MSXML2.XMLHTTP", "Microsoft.XMLHTTP" ];     
                     for ( var i = 0; i < activexName.length; i++) {     
                         try {     
                             //取出一个控件名进行创建，如果创建成功就终止循环     
                             //如果创建失败，回抛出异常，然后可以继续循环，继续尝试创建     
                            xmlHttpRequest = new ActiveXObject(activexName[i]);   
                            if(xmlHttpRequest){  
                                break;  
                            }  
                         } catch (e) {     
                         }     
                     }     
                 }     
                 return xmlHttpRequest;  
             }     
</script>
</body>
</html>